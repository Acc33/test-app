(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[735],{818:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/patients",function(){return n(8573)}])},6587:function(e,t,n){"use strict";n.d(t,{J:function(){return g}});var r=n(5893),i=n(7294),a=n(9521),o=(n(3158),[{Header:"First Name",Footer:"First Name",accessor:"first_name"},{Header:"Last Name",Footer:"Last Name",accessor:"last_name"},{Header:"Email",Footer:"Email",accessor:"email_addr"},{Header:"Gender",Footer:"Gender",accessor:"gender"},{Header:"Registration Date",Footer:"Registration Date",accessor:"created_date"}]);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=i.forwardRef((function(e,t){var n=e.indeterminate,a=l(e,["indeterminate"]),o=i.useRef(),s=t||o;return i.useEffect((function(){s.current.indeterminate=n}),[s,n]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("input",c({type:"checkbox",ref:s},a))})})),d=function(e){var t=e.filter,n=e.setFilter;return(0,r.jsxs)("span",{children:["Search Participants: "," ",(0,r.jsx)("input",{value:t||"",onChange:function(e){return n(e.target.value)}})]})},f=n(1163);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}var g=function(e){console.log(e);var t=e.patients.patients;t.map((function(e){e.created_date=e.created_date.slice(0,10)}));var n=t,s=(0,i.useMemo)((function(){return o}),[]),c=(0,i.useMemo)((function(){return n}),[]),l=(0,f.useRouter)(),p=(0,a.useTable)({columns:s,data:c,initialState:{pageIndex:0}},a.useGlobalFilter,a.useSortBy,a.usePagination),g=p.getTableProps,x=p.getTablebodyProps,j=p.headerGroups,m=p.page,v=p.nextPage,y=p.previousPage,b=p.canNextPage,P=p.canPreviousPage,w=p.prepareRow,O=p.pageOptions,Z=p.state,S=p.setGlobalFilter,C=p.gotoPage,k=p.pageCount,R=p.setPageSize,_=(p.selectedFlatRows,p.allColumns),N=p.getToggleHideAllColumnsProps;console.log(m);var E=Z.pageIndex,F=Z.pageSize,T=Z.globalFilter;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"filter",style:{position:"relative",left:"800px"},children:(0,r.jsx)(d,{filter:T,setFilter:S})}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,r.jsxs)("div",{style:{marginTop:"80px",marginRight:"80px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(u,h({},N()))," Toggle All"]}),_.map((function(e){return(0,r.jsx)("div",{children:(0,r.jsxs)("label",{children:[(0,r.jsx)("input",h({type:"checkbox"},e.getToggleHiddenProps())),e.Header]})},e.id)}))]}),(0,r.jsxs)("table",h({},g(),{id:"table",children:[(0,r.jsx)("thead",{children:j.map((function(e){return(0,r.jsx)("tr",h({},e.getHeaderGroupProps(),{children:e.headers.map((function(e){return(0,r.jsxs)("th",h({},e.getHeaderProps(e.getSortByToggleProps()),{children:[e.render("Header"),(0,r.jsx)("span",{children:e.isSorted?e.isSortedDesc?"\ud83d\udd3d":"\ud83d\udd3c":""})]}),e.id)}))}),1)}))}),(0,r.jsx)("tbody",h({},x,{children:m.map((function(e){return w(e),(0,r.jsx)("tr",h({},e.getRowProps(),{onClick:function(){return function(e,t){null===sessionStorage.getItem("currPatient")||sessionStorage.removeItem("currPatient"),sessionStorage.setItem("currPatient",e);var n="/customers/"+e;l.push({pathname:n,query:{firstname:e,lastname:t}})}(e.original.first_name,e.original.last_name)},children:e.cells.map((function(e){return(0,r.jsx)("td",h({},e.getCellProps(),{children:e.render("Cell")}),e.value)}))}),e.id)}))}))]}))]}),(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"50px"},children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{style:{marginRight:"40px"},children:["Page"," ",(0,r.jsxs)("strong",{children:[E+1," of ",O.length]})," "]}),(0,r.jsxs)("span",{style:{marginRight:"40px"},children:["| Go to page: "," ",(0,r.jsx)("input",{type:"number",defaultValue:E+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;C(t)},style:{width:"50px"}})]}),(0,r.jsx)("select",{value:F,onChange:function(e){return R(Number(e.target.value))},style:{marginRight:"40px"},children:[10,25,50].map((function(e){return(0,r.jsxs)("option",{value:e,children:["Show ",e]},e)}))}),(0,r.jsx)("button",{onClick:function(){return C(0)},disabled:!P,children:"<<"}),(0,r.jsx)("button",{onClick:function(){return y()},disabled:!P,children:"Previous"}),(0,r.jsx)("button",{onClick:function(){return v()},disabled:!b,children:"Next"}),(0,r.jsx)("button",{onClick:function(){return C(k-1)},disabled:!b,children:">>"})]})})]})}},4747:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(5893),i=(0,n(2066).Z)((0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download")},7169:function(e,t,n){"use strict";n.d(t,{o:function(){return i}});var r=n(5893),i=(0,n(2066).Z)((0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search")},2248:function(e,t,n){"use strict";n.d(t,{g:function(){return i}});var r=n(5893),i=(0,n(2066).Z)((0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),"Upload")},8573:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return H}});var r=n(8520),i=n.n(r),a=n(5893),o=n(9008),s=n(7357),c=n(3156),l=n(7294),u=n(1964),d=n.n(u),f=n(5697),p=n.n(f),h=n(2912),g=n(6242),x=n(7906),j=n(3184),m=n(8509),v=n(3252),y=n(5071),b=n(295),P=n(9661),w=n(5861),O=n(1069);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(function(e){var t=e.customers,n=S(e,["customers"]),r=(0,l.useState)([]),i=r[0],o=r[1],c=(0,l.useState)(10),u=c[0],f=c[1],p=(0,l.useState)(0),C=p[0],k=p[1];return(0,a.jsxs)(g.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Z(e,t,n[t])}))}return e}({},n,{children:[(0,a.jsx)(d(),{children:(0,a.jsx)(s.Z,{sx:{minWidth:1050},children:(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(j.Z,{children:(0,a.jsxs)(m.Z,{children:[(0,a.jsx)(v.Z,{padding:"checkbox",children:(0,a.jsx)(y.Z,{checked:i.length===t.length,color:"primary",indeterminate:i.length>0&&i.length<t.length,onChange:function(e){var n;n=e.target.checked?t.map((function(e){return e.id})):[],o(n)}})}),(0,a.jsx)(v.Z,{children:"Name"}),(0,a.jsx)(v.Z,{children:"Email"}),(0,a.jsx)(v.Z,{children:"Location"}),(0,a.jsx)(v.Z,{children:"Phone"}),(0,a.jsx)(v.Z,{children:"Registration date"})]})}),(0,a.jsx)(b.Z,{children:t.slice(0,u).map((function(e){return(0,a.jsxs)(m.Z,{hover:!0,selected:-1!==i.indexOf(e.id),children:[(0,a.jsx)(v.Z,{padding:"checkbox",children:(0,a.jsx)(y.Z,{checked:-1!==i.indexOf(e.id),onChange:function(t){return function(e,t){var n=i.indexOf(t),r=[];-1===n?r=r.concat(i,t):0===n?r=r.concat(i.slice(1)):n===i.length-1?r=r.concat(i.slice(0,-1)):n>0&&(r=r.concat(i.slice(0,n),i.slice(n+1))),o(r)}(0,e.id)},value:"true"})}),(0,a.jsx)(v.Z,{children:(0,a.jsxs)(s.Z,{sx:{alignItems:"center",display:"flex"},children:[(0,a.jsx)(P.Z,{src:e.avatarUrl,sx:{mr:2},children:(t=e.name,(void 0===t?"":t).replace(/\s+/," ").split(" ").slice(0,2).map((function(e){return e&&e[0].toUpperCase()})).join(""))}),(0,a.jsx)(w.Z,{color:"textPrimary",variant:"body1",children:e.name})]})}),(0,a.jsx)(v.Z,{children:e.email}),(0,a.jsx)(v.Z,{children:"".concat(e.address.city,", ").concat(e.address.state,", ").concat(e.address.country)}),(0,a.jsx)(v.Z,{children:e.phone}),(0,a.jsx)(v.Z,{children:(0,h.Z)(e.createdAt,"dd/MM/yyyy")})]},e.id);var t}))})]})})}),(0,a.jsx)(O.Z,{component:"div",count:t.length,onPageChange:function(e,t){k(t)},onRowsPerPageChange:function(e){f(e.target.value)},page:C,rowsPerPage:u,rowsPerPageOptions:[5,10,25]})]}))}).propTypes={customers:p().array.isRequired};n(7169),n(2248),n(4747);var C=n(6447),k=n(5934),R=((0,k.Z)(),(0,k.Z)(),(0,k.Z)(),(0,k.Z)(),(0,k.Z)(),(0,k.Z)(),(0,k.Z)(),(0,k.Z)(),(0,k.Z)(),(0,k.Z)(),n(1163)),_=n(6587),N=function(e){return void 0==e.patients?null:(console.log("xxxxx"),(0,a.jsx)(_.J,{patients:e.patients}))};function E(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){E(a,r,i,o,s,"next",e)}function s(e){E(a,r,i,o,s,"throw",e)}o(void 0)}))}}var T=function(){(0,R.useRouter)();var e=(0,l.useState)(),t=e[0],n=e[1];return(0,l.useEffect)((function(){var e=sessionStorage.getItem("user");function t(){return(t=F(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:4000/getPatients/getPatients",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).catch((function(e){alert("Network Error!")})).then((function(e){if(e.ok)return e.json();(!e||!e.ok||e.status>=400)&&alert("Wrong email or password, please try again!")})).then((function(e){return e}));case 2:return r=t.sent,n(r),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.default,{children:(0,a.jsx)("title",{children:"Customers | Material"})}),(0,a.jsx)(s.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,a.jsx)(c.Z,{maxWidth:!1,children:(0,a.jsx)(s.Z,{sx:{mt:3},children:(0,a.jsx)(N,{patients:t})})})})]})};T.getLayout=function(e){return(0,a.jsx)(C.c,{children:e})};var H=T}},function(e){e.O(0,[774,15,319,791,375,267,261,478,447,888,179],(function(){return t=818,e(e.s=t);var t}));var t=e.O();_N_E=t}]);